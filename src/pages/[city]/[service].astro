---
import Layout from "../../layouts/Layout.astro";
import { services, cities } from "../../config/site-config";
import servicesContent from "../../data/services-content.json";

export function getStaticPaths() {
  const paths = [];
  
  for (const city of cities) {
    for (const service of services) {
      paths.push({
        params: { 
          city: city.slug, 
          service: service.slug 
        },
        props: { city, service },
      });
    }
  }
  
  return paths;
}

const { city, service } = Astro.props;
const content = servicesContent[service.slug as keyof typeof servicesContent];

// Localize content helper
const localize = (text: string) => {
  if (!text) return "";
  return text
    .replace(/Gulf region/g, city.name)
    .replace(/UAE/g, city.country)
    .replace(/Dubai/g, city.name)
    .replace(/Saudi Arabia/g, city.country);
};

---

<Layout title={`${service.name} Agency in ${city.name} | ${city.country} Growth`} description={`The leading ${service.name} agency in ${city.name}. We help B2B industrial companies in ${city.country} dominate their markets.`}>
  <!-- Localized Hero -->
  <section class="pt-40 pb-24 bg-[var(--bg-primary)] overflow-hidden relative">
    <div class="max-w-7xl mx-auto px-6 relative z-10">
      <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-red-50 dark:bg-red-900/20 text-red-600 dark:text-red-400 text-xs font-bold uppercase tracking-widest mb-8">
        Local Expertise: {city.name}
      </div>
      <h1 class="text-5xl md:text-8xl font-black italic uppercase tracking-tighter leading-[0.95] text-[var(--text-primary)] mb-8">
        The Premier<br/>
        <span class="text-red-600">{service.name}</span><br/>
        Agency in {city.name}.
      </h1>
      <p class="text-2xl text-[var(--text-secondary)] max-w-3xl mb-12 leading-relaxed">
        We specialize in {service.name.toLowerCase()} solutions for B2B leaders in the {city.name} industrial sector. Our systems capture more leads and close more deals.
      </p>
      
      <div class="flex gap-4">
        <a href="/contact" class="px-10 py-5 bg-red-600 text-white font-bold rounded-full hover:bg-black transition-all shadow-xl uppercase tracking-tight">
          Request Strategy Call
        </a>
      </div>
    </div>
  </section>

  <!-- Value Section -->
  <section class="py-24 bg-[var(--bg-secondary)]">
    <div class="max-w-7xl mx-auto px-6">
      <div class="grid lg:grid-cols-2 gap-16 items-center">
        <div>
          <h2 class="text-4xl md:text-6xl font-black italic uppercase tracking-tighter text-[var(--text-primary)] mb-8 leading-[0.95]">
            Why {city.name}'s Best<br/>Firms Trust Our<br/><span class="text-red-600">{service.name}</span> Systems.
          </h2>
          <p class="text-[var(--text-secondary)] text-xl leading-relaxed mb-8">
            Industrial companies in {city.name} face unique challenges. We provide more than a serviceâ€”we provide a competitive advantage.
          </p>
          <div class="space-y-4">
             {["Result-Based Approach", "Local Market Insights", "Industrial B2B Specialist"].map(item => (
               <div class="flex items-center gap-3">
                 <div class="w-5 h-5 rounded-full bg-red-600"></div>
                 <span class="font-bold text-[var(--text-primary)] uppercase tracking-tight">{item}</span>
               </div>
             ))}
          </div>
        </div>
        
        <div class="bg-[var(--bg-card)] p-12 rounded-3xl border-2 border-[var(--border-subtle)]">
           <div class="text-red-600 text-6xl font-black italic tracking-tighter mb-4">40%</div>
           <div class="text-xl font-bold text-[var(--text-primary)] uppercase tracking-tight mb-4">Increase in Qualified Leads</div>
           <p class="text-[var(--text-muted)] text-sm">Industrial buyers in {city.name} respond to authority. Our {service.name.toLowerCase()} strategy positions you as the market leader.</p>
        </div>
      </div>
    </div>
  </section>

  {content && (
    <section class="py-24 bg-[var(--bg-primary)] border-t border-[var(--border-subtle)]">
      <div class="max-w-4xl mx-auto px-6">
        <h2 class="text-3xl md:text-5xl font-black italic uppercase tracking-tighter text-[var(--text-primary)] mb-8">
          A Strategy Built for <span class="text-red-600">Growth</span>.
        </h2>
        <div class="prose prose-xl dark:prose-invert text-[var(--text-secondary)]">
          <p class="mb-8">{localize(content.heroDescription)}</p>
          <h3 class="text-2xl font-bold text-[var(--text-primary)] mb-4">{content.sections.overview.title}</h3>
          <p>{localize(content.sections.overview.content)}</p>
        </div>
      </div>
    </section>
  )}

  <!-- CTA -->
  <section class="py-24 bg-[var(--text-primary)] text-[var(--bg-primary)] text-center">
    <div class="max-w-4xl mx-auto px-6">
      <h2 class="text-4xl md:text-6xl font-black italic uppercase tracking-tighter mb-8 bg-black">
        Scale Your {city.name}<br/>Operations Today.
      </h2>
      <a href="/contact" class="inline-block px-12 py-6 bg-red-600 text-white font-black italic uppercase tracking-tighter text-2xl rounded-full hover:bg-[var(--bg-primary)] hover:text-[var(--text-primary)] transition-all">
        Book Strategy Consultation
      </a>
    </div>
  </section>
</Layout>
